#SUBSCRIBED https://raw.githubusercontent.com/yiteei/Clash/refs/heads/Meta/config/Subscription-Userinfo
log-level: silent # æ—¥å¿—ç­‰çº§
find-process-mode: off # æŸ¥æ‰¾è¿›ç¨‹,ä¸å»ºè®®ä½¿ç”¨
mode: rule # è¿è¡Œæ¨¡å¼,æš‚ä¸æ”¯æŒ script
unified-delay: true # ç»Ÿä¸€å»¶è¿Ÿ,ä¼šè®¡ç®— RTT,ä»¥æ¶ˆé™¤è¿æ¥æ¡æ‰‹ç­‰å¸¦æ¥çš„ä¸åŒç±»å‹èŠ‚ç‚¹çš„å»¶è¿Ÿå·®å¼‚
tcp-concurrent: true # TCP å¹¶å‘,å¹¶å‘å‘æ‰€æœ‰ IP å‘èµ· TCP è¿æ¥ï¼Œå¹¶é€‰æ‹©æœ€å¿«æ¡æ‰‹æˆåŠŸçš„ç»“æœ
ipv6: true # å†…æ ¸æ¥å— IPv6 æµé‡
allow-lan: true # å…è®¸å…¶ä»–è®¾å¤‡é€šè¿‡ Clash çš„ä»£ç†ç«¯å£è®¿é—®äº’è”ç½‘
bind-address: '*' # ç»‘å®šåœ°å€,ä»…å…è®¸å…¶ä»–è®¾å¤‡é€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®
authentication:
  # http(s)/socks/mixed ä»£ç†çš„ç”¨æˆ·éªŒè¯
  - 'cat:cat' # ç”¨æˆ·:å¯†ç 
skip-auth-prefixes:
  # è·³è¿‡éªŒè¯çš„ IP æ®µ
  - '127.0.0.1/32'

# geo-auto-update: false
# geo-update-interval: 24
# geodata-mode: false # æ›´æ”¹ geoip ä½¿ç”¨æ–‡ä»¶,mmdb æˆ–è€… dat,å¯é€‰ true/false,trueä¸º dat,æ­¤é¡¹æœ‰é»˜è®¤å€¼ false
# geox-url: { geoip: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip-lite.db',geosite: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite-lite.dat',mmdb: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country-lite.mmdb',asn: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/GeoLite2-ASN.mmdb' }

profile: { store-selected: true } # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©
external-ui: './external-ui' # å¤–éƒ¨ç”¨æˆ·ç•Œé¢çš„è·¯å¾„ '/'ä»£è¡¨æ ¹ç›®å½• './'ä»£è¡¨å½“å‰ç›®å½•,'../'ä»£è¡¨ä¸Šçº§ç›®å½•
external-ui-url: 'https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip' # è‡ªå®šä¹‰å¤–éƒ¨ç”¨æˆ·ç•Œé¢ä¸‹è½½åœ°å€
external-controller: '127.0.0.1:9494' # API ç›‘å¬åœ°å€
secret: 'cat' # API çš„è®¿é—®å¯†é’¥
external-controller-cors: # API CORS æ ‡å¤´é…ç½®
  allow-origins: # å…è®¸å“ªäº›å‰ç«¯é¡µé¢çš„åŸŸåè®¿é—® API
    - 'https://board.zash.run.place'
  allow-private-network: true

# tproxy-port: 1234 # tproxy é€æ˜ä»£ç†ç«¯å£,å¯ä»£ç† TCP ä¸ UDP æµé‡. ä»…é™ linux(Android) é€‚ç”¨
mixed-port: 2234 # æ··åˆç«¯å£ åŒæ—¶æ”¯æŒ HTTP(S) å’Œ SOCKS5 åè®®
# redir-port: 0 # redirect é€æ˜ä»£ç†ç«¯å£,ä»…èƒ½ä»£ç† TCP æµé‡. ä»…é™ Linux(Android) ä»¥åŠ macOS é€‚ç”¨
# socks-port: 0 # socks4/4a/5 ä»£ç†ç«¯å£
# port: 0 # http(s) ä»£ç†ç«¯å£
# ç«¯å£ä¸º 0 æ—¶,ä»£è¡¨ä¸å¯ç”¨è¯¥ç«¯å£

tun:
  enable: true
  stack: mixed # tun æ¨¡å¼å †æ ˆ system/gvisor/mixed é˜²ç«å¢™æœªæ”¾è¡Œå†…æ ¸,åˆ™æ— æ³•ä½¿ç”¨ system å’Œ mixed åè®®æ ˆ
  auto-route: true # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±,å¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡
  # auto-redirect: true # ä»…æ”¯æŒ Linux,è‡ªåŠ¨é…ç½® iptables/nftables ä»¥é‡å®šå‘ TCP è¿æ¥,éœ€è¦ auto-route å·²å¯ç”¨
  auto-detect-interface: true # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£,å¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡
  strict-route: false # ä¸¥æ ¼è·¯ç”± æ‰€æœ‰è¿æ¥è·¯ç”±åˆ° tun æ¥é˜²æ­¢æ³„æ¼,ä½†è®¾å¤‡å°†æ— æ³•è¢«å…¶ä»–è®¾å¤‡è®¿é—®
  device: 'Cat' # æŒ‡å®š tun ç½‘å¡åç§°,MacOS è®¾å¤‡åªèƒ½ä½¿ç”¨ utun å¼€å¤´çš„ç½‘å¡å
  # dns-hijack: [ 'any:53','tcp://any:53' ] # åœ¨ MacOS/Windows æ— æ³•è‡ªåŠ¨åŠ«æŒå‘å¾€å±€åŸŸç½‘çš„ dns è¯·æ±‚,åœ¨ Android å¦‚å¼€å¯ ç§äººdns åˆ™æ— æ³•è‡ªåŠ¨åŠ«æŒ dns è¯·æ±‚
  mtu: 1500 # æœ€å¤§ä¼ è¾“å•å…ƒ,ä¼šå½±å“æé™çŠ¶æ€ä¸‹çš„é€Ÿç‡

sniffer:
  # åŸŸåå—…æ¢,é€šè¿‡è¯»å–æ¡æ‰‹åŒ…å†…çš„åŸŸåå­—æ®µ,å°† IP è¿˜åŸæˆåŸŸå,ä¾¿äºè¿›è¡ŒåŸŸååˆ†æµ
  enable: true
  parse-pure-ip: true # å¯¹æ‰€æœ‰æœªè·å–åˆ°åŸŸåçš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  force-dns-mapping: false # å¯¹ redir-host ç±»å‹è¯†åˆ«çš„æµé‡è¿›è¡Œå¼ºåˆ¶å—…æ¢
  # override-destination: false # æ˜¯å¦ä½¿ç”¨å—…æ¢ç»“æœä½œä¸ºå®é™…è®¿é—®,é»˜è®¤  true
  sniff: { TLS: { ports: [443, 8443] }, QUIC: { ports: [443, 8443] }, HTTP: { ports: [80, 8080-8880] } }
  skip-domain:
    # éœ€è¦è·³è¿‡å—…æ¢çš„åŸŸå,ä¸»è¦è§£å†³éƒ¨åˆ†ç«™ç‚¹ sni å­—æ®µéåŸŸå,å¯¼è‡´å—…æ¢ç»“æœå¼‚å¸¸çš„é—®é¢˜,å¦‚ç±³å®¶è®¾å¤‡
    - '+.push.apple.com'
    - 'Mijia Cloud'
    - 'dlg.io.mi.com'
  skip-dst-address:
    - 0.0.0.0/8
    - 10.0.0.0/8
    - 100.64.0.0/10
    - 127.0.0.0/8
    - 169.254.0.0/16
    - 172.16.0.0/12
    - 192.0.0.0/24
    - 192.0.2.0/24
    - 192.88.99.0/24
    - 192.168.0.0/16
    - 198.18.0.0/15
    - 198.51.100.0/24
    - 203.0.113.0/24
    - 224.0.0.0/3
    - ::/127
    - fc00::/7
    - fe80::/10
    - ff00::/8

hosts:
  # æ”¯æŒå•åŸŸåå¤š IP,æ ¼å¼ä¸ºæ•°ç»„; æ”¯æŒåŸŸåé€šé…ç¬¦,ä¸ä½¿ç”¨é€šé…ç¬¦çš„åŸŸåä¼˜å…ˆçº§é«˜äºä½¿ç”¨é€šé…ç¬¦çš„åŸŸå
  # 'doh.pub': ['1.12.12.12','120.53.53.53','2402:4e00::']
  'trpc.o3.*': 127.0.0.1 # ç¯å¢ƒæ£€æµ‹åŒ…(trpc.o3.*)æ‹¦æˆª
  'www.google.cn': www.google.com # Google é‡å®šå‘
  'www.g.cn': www.google.com
  'ditu.google.cn': maps.google.com
  'maps.google.cn': maps.google.com
  'services.googleapis.cn': services.googleapis.com

dns:
  # ä½¿ç”¨ DoHã€DoTã€DoQ åè®®æ¯”ä¼ ç»ŸåŸºäº UDP çš„æŸ¥è¯¢æ›´æ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œä¸”å»¶è¿Ÿé€šå¸¸æ›´é«˜
  # ä½¿ç”¨ Fake IP å¯é¿å…éœ€è¦ä»£ç†çš„è¯·æ±‚è¿›è¡Œæœ¬åœ° DNS æŸ¥è¯¢. å¯¹äºä¸­å›½ç”¨æˆ·ï¼Œå»ºè®®ä½¿ç”¨å›½å†… DNS æœåŠ¡å™¨,é…ç½® 8.8.8.8 / 1.1.1.1 ç­‰å›½å¤– DNS æœåŠ¡ä¸ä¼šå¸¦æ¥å®é™…æ”¶ç›Š
  # åªé…ç½® direct-nameserver ,ä¸é…ç½® proxy-server-nameserver ä¼šå¯¼è‡´äºŒæ¬¡è§£æ,æ­¤æ—¶ direct-nameserver ç”¨äºå…¶ä½™çš„ç›´è¿å‡ºç«™
  enable: true # å¦‚ä¸º false,åˆ™ä½¿ç”¨ç³»ç»Ÿ DNS è§£æ
  # cache-algorithm: arc # ç¼“å­˜ç®—æ³•,é»˜è®¤ lru
  ipv6: true # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  enhanced-mode: redir-host # DNS å¤„ç†æ¨¡å¼ fake-ip/redir-host/normal,Meta å›æ»šäº† Redir Host éƒ¨åˆ†ä»£ç ,ä»ç„¶ä¿ç•™ Clash v1.70 ä»¥å‰çš„ Redir Host æ¨¡å¼çš„åŸŸåä¼ é€’è¡Œä¸º
  default-nameserver: ['quic://223.6.6.6', '114.114.115.115', '218.30.118.6'] # ç”¨äºè§£æ DNS æœåŠ¡å™¨ çš„åŸŸå,å¿…é¡»ä¸º IPç±»å‹,å¯ä¸ºåŠ å¯† DNS
  proxy-server-nameserver: ['https://223.5.5.5/dns-query#ecs=223.6.6.0/24&ecs-override=true', 'https://doh.pub/dns-query#ecs=223.6.6.0/24&ecs-override=true']
  # ç”¨äºèŠ‚ç‚¹çš„åŸŸåè§£æ,å…¶ä»– DNS å¦‚éœ€è¿‡ä»£ç†æŸ¥è¯¢æ—¶åˆ™é…ç½®è¯¥é¡¹ä»¥é˜²å‡ºç°é¸¡è›‹é—®é¢˜
  nameserver-policy:
    'rule-set:site_cn,site_geolocation-cn,site_private': ['https://223.6.6.6/dns-query#&ecs=223.6.6.0/24&ecs-override=true', 'https://doh.pub/dns-query#ecs=223.6.6.0/24&ecs-override=true']
  nameserver: ['https://208.67.220.2/dns-query#ecs=1.0.0.0/24&ecs-override=true&Proxy', 'https://8.8.4.4/dns-query#ecs=1.0.0.0/24&ecs-override=true&Proxy'] # é»˜è®¤åŸŸåè§£æ,å¦‚ä¸é…ç½® fallback/proxy-server-nameserver,åˆ™éƒ½ç”± nameserver è§£æ
  direct-nameserver: ['https://223.6.6.6/dns-query#&ecs=223.6.6.0/24&ecs-override=true', 'https://doh.pub/dns-query#ecs=223.6.6.0/24&ecs-override=true']

proxies:
  # å‡ºç«™é…ç½®  dns/direct ç­‰é»˜è®¤å¼€å¯ udp
  - { name: 'dns-hijack', type: dns } # dns å‡ºç«™ä¼šå°†è¯·æ±‚åŠ«æŒåˆ°å†…éƒ¨ dns æ¨¡å—,æ‰€æœ‰è¯·æ±‚å‡åœ¨å†…éƒ¨å¤„ç†
  - { name: 'ä»¥å¤ªç½‘', type: direct, interface-name: 'ä»¥å¤ªç½‘' } # ç½‘çº¿
  - { name: 'WLAN', type: direct, interface-name: 'WLAN' } # WiFi
  - { name: 'wlan0', type: direct, interface-name: 'wlan0' } # Wå£
  - { name: 'wlan1', type: direct, interface-name: 'wlan1' }
  - { name: 'rmnet_data0', type: direct, interface-name: 'rmnet_data0' } # æ•°æ®
  - { name: 'rmnet_data1', type: direct, interface-name: 'rmnet_data1' }
  - { name: 'rmnet_data2', type: direct, interface-name: 'rmnet_data2' }
  - { name: 'rmnet_data3', type: direct, interface-name: 'rmnet_data3' }
  # æŸ¥çœ‹æ¥å£å‘½ä»¤: netsh interface show interface  Tip: æ‰‹æœºéœ€è¦ root è·‘å†…æ ¸ ä»¥ç»‘å®šæ¥å£

proxy-providers-anchor:
  # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹,åˆ™ä¸ä¼šå»åˆå¹¶; é”šç‚¹åå°½é‡ä¸è¦å«ç‰¹æ®Šå­—ç¬¦
  - &health_check { health-check: { enable: true, url: 'https://www.google.com/generate_204', expected-status: '204', interval: 150 } } # å»¶è¿Ÿæ£€æµ‹
  - &header { header: { User-Agent: ['mihomo/9.99.9 clash.meta/9.99.9 ClashMeta/9.99.9 FlClash/9.99.9 clash-verge/9.99.9'] } } # UA
  - &update { proxy: 'Update', interval: 43200 } # æ›´æ–° provider ä½¿ç”¨çš„èŠ‚ç‚¹æˆ–ç­–ç•¥ç»„/Update provider çš„é—´éš”,å•ä½ s  Tip: è®¾ç½®çš„è¿‡äºå°å¯èƒ½è¢«æœºåœº ban
  - &filter_exclude { exclude-type: 'http|socks5|trojan|anytls|vmess|ssh', exclude-filter: '(?:æµé‡|æœŸ|çŸ¥|å‘Š|å…¥|ç¾¤|é‚€|è¿”|å¾ªç¯|å®˜|å®¢|ç«™|å€|è·|è®¢|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å¤‡ç”¨|å·²|è”ç³»|é‚®|æœåŠ¡|å·¥å•|è´©å–|å¯¼èˆª|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|ä½œè€…|(?i:\b(?:USE|USED|TG|TOTAL|EXPIRE|EMAIL|PANEL|CHANNEL|AUTHOR|UPDATE)\b)|\b\d{4}-\d{2}-\d{2}\b|\d+G)' } # å¼•å…¥ç­›é€‰/æ’é™¤,ä½¿ç”¨ç­›é€‰å¯èƒ½ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ CPUå ç”¨/è½¬å‘å»¶è¿Ÿ,å°¤å…¶æ˜¯ä½¿ç”¨è¾ƒä¸ºå¤æ‚æ­£åˆ™çš„æƒ…å†µä¸‹
  - &override { udp: true } # è¦†å†™

proxy-providers:
  # ä¸€ä¸ªåˆæ³•çš„è¿œç¨‹ä»£ç†é›†é‡Œå¿…é¡»åŒ…å« proxies å­—æ®µ,è¿œç¨‹ä»£ç†é›†ä¸ºç©ºæ—¶ä¼šä»¥ DIRECT æ›¿ä»£
  Provider_1:
    type: http # å¿…é¡»,provider ç±»å‹ http/file
    url: 'http://127.0.0.1:38324/download/1' # æœºåœºé“¾æ¥
    path: './proxy_providers/Provider_1.yaml' # é…ç½®ä¿å­˜ä½ç½® '.'ä»£è¡¨å½“å‰ç›®å½•,'..'ä»£è¡¨ä¸Šçº§ç›®å½•
    <<: [*health_check, *header, *update, *filter_exclude]
    override: { <<: *override, additional-prefix: 'A âŠƒ ' }
  Provider_2:
    type: http
    url: 'http://127.0.0.1:38324/download/2' # æœºåœºé“¾æ¥
    path: './proxy_providers/Provider_2.yaml'
    <<: [*health_check, *header, *update, *filter_exclude]
    override: { <<: *override, additional-prefix: 'B âŠƒ ' }
  Provider_3:
    type: http
    url: 'http://127.0.0.1:38324/download/3' # æœºåœºé“¾æ¥
    path: './proxy_providers/Provider_3.yaml'
    <<: [*health_check, *header, *update, *filter_exclude]
    override: { <<: *override, additional-prefix: 'C âŠƒ ' }
  Provider_4:
    type: http
    url: 'http://127.0.0.1:38324/download/4' # æœºåœºé“¾æ¥
    path: './proxy_providers/Provider_4.yaml'
    <<: [*health_check, *header, *update, *filter_exclude]
    override: { <<: *override, additional-prefix: 'D âŠƒ ' }
  Baidu:
    type: inline
    health-check: { enable: true, url: 'https://connectivitycheck.platform.hicloud.com/generate_204', expected-status: '204', interval: 0 }
    payload:
      - { name: 'Baidu', type: http, server: cloudnproxy.baidu.com, port: 443, headers: { Host: '153.3.236.22:443', X-T5-Auth: '683556433', Connection: Keep-Aliv, User-Agent: 'okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 11; Redmi K30 5G Build/RKQ1.200826.002) baiduboxapp/11.0.5.12 (Baidu; P1 11)' } }
      - { name: 'Baidu-æ±Ÿè‹è‹å·-CU', type: http, server: 157.0.148.53, port: 443, headers: { Host: '153.3.236.22:443', X-T5-Auth: '683556433', Connection: Keep-Aliv, User-Agent: 'okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 11; Redmi K30 5G Build/RKQ1.200826.002) baiduboxapp/11.0.5.12 (Baidu; P1 11)' } }
      - { name: 'Baidu-æ±Ÿè‹å—äº¬-CU', type: http, server: 153.3.237.117, port: 443, headers: { Host: '153.3.236.22:443', X-T5-Auth: '683556433', Connection: Keep-Aliv, User-Agent: 'okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 11; Redmi K30 5G Build/RKQ1.200826.002) baiduboxapp/11.0.5.12 (Baidu; P1 11)' } }
      - { name: 'Baidu-æ²³åŒ—ä¿å®š-CU 1', type: http, server: 110.242.70.68, port: 443, headers: { Host: '153.3.236.22:443', X-T5-Auth: '683556433', Connection: Keep-Aliv, User-Agent: 'okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 11; Redmi K30 5G Build/RKQ1.200826.002) baiduboxapp/11.0.5.12 (Baidu; P1 11)' } }
      - { name: 'Baidu-æ²³åŒ—ä¿å®š-CU 2', type: http, server: 110.242.70.69, port: 443, headers: { Host: '153.3.236.22:443', X-T5-Auth: '683556433', Connection: Keep-Aliv, User-Agent: 'okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 11; Redmi K30 5G Build/RKQ1.200826.002) baiduboxapp/11.0.5.12 (Baidu; P1 11)' } }
      - { name: 'Baidu-å¹¿ä¸œå¹¿å·-CU 1', type: http, server: 163.177.17.6, port: 443, headers: { Host: '153.3.236.22:443', X-T5-Auth: '683556433', Connection: Keep-Aliv, User-Agent: 'okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 11; Redmi K30 5G Build/RKQ1.200826.002) baiduboxapp/11.0.5.12 (Baidu; P1 11)' } }
      - { name: 'Baidu-å¹¿ä¸œå¹¿å·-CU 2', type: http, server: 163.177.17.189, port: 443, headers: { Host: '153.3.236.22:443', X-T5-Auth: '683556433', Connection: Keep-Aliv, User-Agent: 'okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 11; Redmi K30 5G Build/RKQ1.200826.002) baiduboxapp/11.0.5.12 (Baidu; P1 11)' } }
    # ä¸ä¿è¯å¯ç”¨æ€§
    # baidumlip: ping -c 1 cloudnproxy.baidu.com | sed '1{s/[^(]*(//;s/).*//;q}'

proxy-groups-anchor:
  # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹,åˆ™ä¸ä¼šå»åˆå¹¶; é”šç‚¹åå°½é‡ä¸è¦å«ç‰¹æ®Šå­—ç¬¦
  type_anchor:
    - &type_ut { type: url-test, url: 'https://www.google.com/generate_204', expected-status: '204', tolerance: 20, interval: 150 }
    - &type_fb { type: fallback, url: 'https://www.google.com/generate_204', expected-status: '204', interval: 150 }
    - &type_lb-rr { type: load-balance, strategy: round-robin, url: 'https://www.google.com/generate_204', expected-status: '204', interval: 150 }
    # - &type_lb-ss { type: load-balance,strategy: sticky-sessions,url: 'https://www.google.com/generate_204',expected-status: '204',interval: 150 }
  proxies_anchor:
    # - &proxies_default { proxies: ['PASS', 'Proxy', 'Local', 'é¦™æ¸¯', 'å°æ¹¾', 'æ—¥æœ¬', 'ç‹®åŸ', 'è‹±å›½', 'ç¾å›½'] }
    - &proxies_direct { proxies: ['Local', 'Proxy', 'PASS', 'é¦™æ¸¯', 'å°æ¹¾', 'æ—¥æœ¬', 'ç‹®åŸ', 'è‹±å›½', 'ç¾å›½'] }
    - &proxies_proxy { proxies: ['Proxy', 'Local', 'PASS', 'é¦™æ¸¯', 'å°æ¹¾', 'æ—¥æœ¬', 'ç‹®åŸ', 'è‹±å›½', 'ç¾å›½'] }
    - &proxies_out { proxies: ['é¦™æ¸¯', 'å°æ¹¾', 'æ—¥æœ¬', 'ç‹®åŸ', 'è‹±å›½', 'ç¾å›½'] }
    - &proxies_reject { proxies: ['REJECT-DROP', 'REJECT', 'PASS'] }
  filter_anchor:
    # - &exclude_eb { exclude-filter: 'å›å›½|æ ¡å›­' } # æ’é™¤å›å›½
    # - &filter_0x { filter: '0å€|(?i:x?0x?)' } # å€ç‡
    # - &filter_0.1x { filter: '0\.2å€|(?i:x?0\.2x?)' }
    # - &filter_0.5x { filter: '0\.25å€|(?i:x?0\.25x?)' }
    # - &filter_0.8x { filter: '0\.5å€|(?i:x?0\.5x?)' }
    - &filter_hk { filter: '(?:ğŸ‡­ğŸ‡°|æ¸¯|(?i:\b(?:hk|hkg|hong|hongkong)\b))' }
    # - &filter_hk_1 {filter: '(?=.*#1)(?=.*(?:ğŸ‡­ğŸ‡°|æ¸¯|(?i:hk|hkg|hong|hongkong)\b))'} # åŒ…å« #1 çš„é¦™æ¸¯
    - &filter_tw { filter: '(?:ğŸ‡¹ğŸ‡¼|å°|é«˜é›„|(?i:\b(?:tw|twn|tai|taiwan)\b))' }
    - &filter_jp { filter: '(?:ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(?i:\b(?:jp|jpn|japan)\b))' }
    # - &filter_kr { filter: '(?:ğŸ‡°ğŸ‡·|éŸ©å›½|å—éŸ©|é¦–å°”|é‡œå±±|(?i:\b(?:kr|kor|korea|South\s*Korea)\b))' }
    - &filter_sg { filter: '(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(?i:\b(?:sg|sgp|singapore)\b))' }
    - &filter_us { filter: '(?:ğŸ‡ºğŸ‡¸|ç¾|å‡¤å‡°åŸ|ç¡…è°·|æ´›æ‰çŸ¶|è¥¿é›…å›¾|èŠåŠ å“¥|(?i:\b(?:us|usa|united\s*states)\b))' }
    # - &filter_ru { filter: '(?:ğŸ‡·ğŸ‡º|ä¿„ç½—æ–¯|ä¿„è”é‚¦|è«æ–¯ç§‘|åœ£å½¼å¾—å ¡|è¥¿ä¼¯åˆ©äºš|(?i:\b(?:ru|rus|russia)\b))' }
    # - &filter_tr { filter: '(?:ğŸ‡¹ğŸ‡·|åœŸè€³å…¶|å®‰å¡æ‹‰|ä¼Šæ–¯å¦å¸ƒå°”|ä¼Šå…¹å¯†å°”|(?i:\b(?:tr|tur|turkey)\b))' }
    # - &filter_ar { filter: '(?:ğŸ‡¦ğŸ‡·|é˜¿æ ¹å»·|å¸ƒå®œè¯ºæ–¯è‰¾åˆ©æ–¯|ç½—è¨é‡Œå¥¥|é—¨å¤šè¨|(?i:\b(?:ar|arg|argentina)\b))' }
    # - &filter_in { filter: '(?:ğŸ‡®ğŸ‡³|å°åº¦|æ–°å¾·é‡Œ|å­Ÿä¹°|ç­åŠ ç½—å°”|åŠ å°”å„ç­”|(?i:\b(?:in|ind|india)\b))' }
    - &filter_gb { filter: '(?:ğŸ‡¬ğŸ‡§|è‹±|ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|(?i:\b(?:uk|gb|gbr|united\s*kingdom|britain)\b))' }
    # - &filter_fr { filter: '(?:ğŸ‡«ğŸ‡·|æ³•|å·´é»|é©¬èµ›|(?i:\b(?:fr|fra|france)\b))' }
    # - &filter_de { filter: '(?:ğŸ‡©ğŸ‡ª|å¾·|æŸæ—|æ…•å°¼é»‘|(?i:\b(?:de|deu|germany)\b))' }
    # - &filter_lu { filter: '(?:ğŸ‡±ğŸ‡º|å¢æ£®å ¡|(?i:\b(?:lu|lux|luxembourg|bt|pt)\b))' } # Torrentä¸“ç”¨

proxy-groups:
  # ç­–ç•¥ç»„å¯ä»¥åŒ…å«å¤šä¸ªä»£ç†,æˆ–å¤šä¸ªè¿œç¨‹ä»£ç†é›†; ä¸åŒ…å«ä»»ä½•ä»£ç†çš„ç­–ç•¥ç»„,ä¼šè¢«å½“ä½œä¸º DIRECT ç­–ç•¥å¤„ç†; å¦‚ç­–ç•¥ç»„ä»£ç†æ¥è‡ªè¿œç¨‹ä»£ç†é›†æ—¶,åˆ™ä½¿ç”¨ proxy-providers çš„ health-check
  - { name: 'Proxy', type: select, proxies: ['Fallback', 'Load balance', 'Local', 'é¦™æ¸¯', 'å°æ¹¾', 'æ—¥æœ¬', 'ç‹®åŸ', 'è‹±å›½', 'ç¾å›½'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png' }
  - { name: 'Local', type: select, url: 'https://connectivitycheck.platform.hicloud.com/generate_204', expected-status: '204', interval: 0, proxies: ['DIRECT', 'ä»¥å¤ªç½‘', 'WLAN', 'ä»¥å¤ªç½‘ + WLAN', 'wlan0 + wlan1', 'data0 + wlan0', 'data0 + wlan1', 'data1 + wlan0', 'data1 + wlan1', 'data2 + wlan0', 'data2 + wlan1', 'data3 + wlan0', 'data3 + wlan1'], use: ['Baidu'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/China_Map.png' }
  - { name: 'NoChina', type: select, <<: *proxies_proxy, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png' }
  - { name: 'Message', type: select, <<: *proxies_direct, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png' }
  - { name: 'Telegram', type: select, <<: *proxies_proxy, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png' }
  - { name: 'WeChat', type: select, <<: *proxies_proxy, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/WeChat.png' }
  - { name: 'YouTube', type: select, <<: *proxies_proxy, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png' }
  # - { name: 'Emby', type: select, <<: *proxies_default, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Emby.png' }
  - { name: 'OneDrive', type: select, <<: *proxies_direct, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/OneDrive.png' }
  # - { name: 'LModel',type: select,url: 'https://api.openai.com/cdn-cgi/trace',<<: [ *proxies_proxy ],icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/ChatGPT.png' }
  - { name: 'GameCN', type: select, <<: *proxies_direct, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Game.png' }
  - { name: 'BiliCDN', type: select, <<: *proxies_reject, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/bilibili.png' }
  - { name: 'WebRTC', type: select, <<: *proxies_reject, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Area.png' }
  # - { name: 'QUIC',type: select,proxies: [ PASS,REJECT-DROP ],icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png' }
  # - { name: 'disable-udp',type: select,disable-udp:true,<<: *proxies_out ,icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png'}
  - { name: 'Httpdns', type: select, <<: *proxies_reject, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hijacking.png' }
  - { name: 'Advert', type: select, <<: *proxies_reject, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Advertising.png' }
  - { name: 'Update', type: select, proxies: [Local, Proxy], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Stack.png' }
  # - { name: 'å€ç‡',type: select,proxies: [ 0x,0.1x,0.5x,0.8x ],icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Speedtest.png' }
  - { name: 'é¦™æ¸¯', type: select, proxies: ['é¦™æ¸¯ A', 'é¦™æ¸¯ B', 'é¦™æ¸¯ C', 'é¦™æ¸¯ D'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png' }
  - { name: 'é¦™æ¸¯ A', <<: [*type_ut, *filter_hk], use: ['Provider_1'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png', hidden: true }
  - { name: 'é¦™æ¸¯ B', <<: [*type_ut, *filter_hk], use: ['Provider_2'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png', hidden: true }
  - { name: 'é¦™æ¸¯ C', <<: [*type_ut, *filter_hk], use: ['Provider_3'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png', hidden: true }
  - { name: 'é¦™æ¸¯ D', <<: [*type_ut, *filter_hk], use: ['Provider_4'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png', hidden: true }
  - { name: 'å°æ¹¾', type: select, proxies: ['å°æ¹¾ A', 'å°æ¹¾ B', 'å°æ¹¾ C', 'å°æ¹¾ D'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png' }
  - { name: 'å°æ¹¾ A', <<: [*type_ut, *filter_tw], use: ['Provider_1'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png', hidden: true }
  - { name: 'å°æ¹¾ B', <<: [*type_ut, *filter_tw], use: ['Provider_2'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png', hidden: true }
  - { name: 'å°æ¹¾ C', <<: [*type_ut, *filter_tw], use: ['Provider_3'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png', hidden: true }
  - { name: 'å°æ¹¾ D', <<: [*type_ut, *filter_tw], use: ['Provider_4'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png', hidden: true }
  - { name: 'æ—¥æœ¬', type: select, proxies: ['æ—¥æœ¬ A', 'æ—¥æœ¬ B', 'æ—¥æœ¬ C', 'æ—¥æœ¬ D'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png' }
  - { name: 'æ—¥æœ¬ A', <<: [*type_ut, *filter_jp], use: ['Provider_1'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png', hidden: true }
  - { name: 'æ—¥æœ¬ B', <<: [*type_ut, *filter_jp], use: ['Provider_2'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png', hidden: true }
  - { name: 'æ—¥æœ¬ C', <<: [*type_ut, *filter_jp], use: ['Provider_3'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png', hidden: true }
  - { name: 'æ—¥æœ¬ D', <<: [*type_ut, *filter_jp], use: ['Provider_4'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png', hidden: true }
  - { name: 'ç‹®åŸ', type: select, proxies: ['ç‹®åŸ A', 'ç‹®åŸ B', 'ç‹®åŸ C', 'ç‹®åŸ D'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png' }
  - { name: 'ç‹®åŸ A', <<: [*type_ut, *filter_sg], use: ['Provider_1'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png', hidden: true }
  - { name: 'ç‹®åŸ B', <<: [*type_ut, *filter_sg], use: ['Provider_2'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png', hidden: true }
  - { name: 'ç‹®åŸ C', <<: [*type_ut, *filter_sg], use: ['Provider_3'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png', hidden: true }
  - { name: 'ç‹®åŸ D', <<: [*type_ut, *filter_sg], use: ['Provider_4'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png', hidden: true }
  - { name: 'è‹±å›½', type: select, proxies: ['è‹±å›½ A', 'è‹±å›½ B', 'è‹±å›½ C', 'è‹±å›½ D'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_Kingdom.png' }
  - { name: 'è‹±å›½ A', <<: [*type_ut, *filter_gb], use: ['Provider_1'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_Kingdom.png', hidden: true }
  - { name: 'è‹±å›½ B', <<: [*type_ut, *filter_gb], use: ['Provider_2'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_Kingdom.png', hidden: true }
  - { name: 'è‹±å›½ C', <<: [*type_ut, *filter_gb], use: ['Provider_3'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_Kingdom.png', hidden: true }
  - { name: 'è‹±å›½ D', <<: [*type_ut, *filter_gb], use: ['Provider_4'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_Kingdom.png', hidden: true }
  - { name: 'ç¾å›½', type: select, proxies: ['ç¾å›½ A', 'ç¾å›½ B', 'ç¾å›½ C', 'ç¾å›½ D'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png' }
  - { name: 'ç¾å›½ A', <<: [*type_ut, *filter_us], use: ['Provider_1'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png', hidden: true }
  - { name: 'ç¾å›½ B', <<: [*type_ut, *filter_us], use: ['Provider_2'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png', hidden: true }
  - { name: 'ç¾å›½ C', <<: [*type_ut, *filter_us], use: ['Provider_3'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png', hidden: true }
  - { name: 'ç¾å›½ D', <<: [*type_ut, *filter_us], use: ['Provider_4'], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png', hidden: true }
  - { name: 'Fallback', <<: [*type_fb, *proxies_out], hidden: true }
  - { name: 'Load balance', <<: [*type_lb-rr, *proxies_out], hidden: true }
  - { name: 'ä»¥å¤ªç½‘ + WLAN', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [ä»¥å¤ªç½‘, WLAN], hidden: true }
  - { name: 'wlan0 + wlan1', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [wlan0, wlan1], hidden: true }
  - { name: 'data0 + wlan0', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [rmnet_data0, wlan0], hidden: true }
  - { name: 'data0 + wlan1', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [rmnet_data0, wlan1], hidden: true }
  - { name: 'data1 + wlan0', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [rmnet_data1, wlan0], hidden: true }
  - { name: 'data1 + wlan1', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [rmnet_data1, wlan1], hidden: true }
  - { name: 'data2 + wlan0', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [rmnet_data2, wlan0], hidden: true }
  - { name: 'data2 + wlan1', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [rmnet_data2, wlan1], hidden: true }
  - { name: 'data3 + wlan0', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [rmnet_data3, wlan0], hidden: true }
  - { name: 'data3 + wlan1', url: 'https://connectivitycheck.platform.hicloud.com/generate_204', <<: *type_lb-rr, proxies: [rmnet_data3, wlan1], hidden: true }

rule-providers-anchor:
  # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹,åˆ™ä¸ä¼šå»åˆå¹¶; é”šç‚¹åå°½é‡ä¸è¦å«ç‰¹æ®Šå­—ç¬¦
  - &rule_domain { type: http, behavior: domain, format: mrs, proxy: 'Update', interval: 86400 }
  - &rule_ipcidr { type: http, behavior: ipcidr, format: mrs, proxy: 'Update', interval: 86400 }
  # - &rule_asn { type: http,behavior: ipcidr,format: mrs,proxy: 'Update',interval: 86400 }
  - &rule_classical { type: http, behavior: classical, format: yaml, proxy: 'Update', interval: 86400 }

rule-providers:
  # å¯¹äºå»å¹¿å‘Š,æŒ‰ IP åœ°ç†ä¿¡æ¯åˆ†æµç­‰éœ€è¦å¤§é‡è§„åˆ™çš„åœºæ™¯,å»ºè®®ä½¿ç”¨ domain æˆ– ipcidr ç±»å‹çš„è§„åˆ™é›†åˆ,è¿™èƒ½æœ‰æ•ˆé™ä½å†…å­˜å ç”¨å¹¶æé«˜åŒ¹é…é€Ÿåº¦
  # ä¸å»ºè®®ä½¿ç”¨å¤§é‡ classical ç±»å‹çš„è§„åˆ™é›†åˆã€‚æ­¤ç±»è§„åˆ™åªèƒ½è¿›è¡Œé¡ºåºåŒ¹é…ï¼Œä¼šæ˜¾è‘—å¢åŠ åŒ¹é…è€—æ—¶å’Œå†…å­˜å ç”¨
  site_category-httpdns-cn: { <<: *rule_domain, path: './rule_providers/domain/category-httpdns-cn', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-httpdns-cn.mrs' }
  # site_ads: { <<: *rule_domain, path: './rule_providers/domain/category-ads-all', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-ads-all.mrs' }
  site_ads: { <<: *rule_domain, path: './rule_providers/domain/dns-blocklists-normal', url: 'https://raw.githubusercontent.com/yiteei/Clash/refs/heads/Meta/rules/site/dns-blocklists-normal.mrs' }
  site_private: { <<: *rule_domain, path: './rule_providers/domain/private', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.mrs' }
  site_googlefcm: { <<: *rule_domain, path: './rule_providers/domain/googlefcm', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/googlefcm.mrs' }
  site_telegram: { <<: *rule_domain, path: './rule_providers/domain/telegram', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/telegram.mrs' }
  site_wechat:
    type: inline
    <<: *rule_domain
    payload:
      - short.weixin.qq.com
      - +short.weixin.qq.com
      - long.weixin.qq.com
      - +long.weixin.qq.com
  site_youtube: { <<: *rule_domain, path: './rule_providers/domain/youtube', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/youtube.mrs' }
  site_onedrive: { <<: *rule_domain, path: './rule_providers/domain/onedrive', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/onedrive.mrs' }
  site_category-games@cn: { <<: *rule_domain, path: './rule_providers/domain/category-games@cn', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-games@cn.mrs' }
  site_gfw: { <<: *rule_domain, path: './rule_providers/domain/gfw', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/gfw.mrs' }
  site_geolocation-cn: { <<: *rule_domain, path: './rule_providers/domain/geolocation-cn', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/geolocation-cn.mrs' }
  site_geolocation-!cn: { <<: *rule_domain, path: './rule_providers/domain/geolocation-!cn', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/geolocation-!cn.mrs' }
  site_cn: { <<: *rule_domain, path: './rule_providers/domain/cn', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/cn.mrs' }
  ip_private: { <<: *rule_ipcidr, path: './rule_providers/ipcidr/private', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/private.mrs' }
  ip_telegram: { <<: *rule_ipcidr, path: './rule_providers/ipcidr/telegram', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/telegram.mrs' }
  ip_cn: { <<: *rule_ipcidr, path: './rule_providers/ipcidr/cn', url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/cn.mrs' }
  classical_httpdns:
    # æ¥æº https://raw.githubusercontent.com/QingRex/LoonKissSurge/refs/heads/main/Surge/%E6%8B%A6%E6%88%AAHTTPDNS.sgmodule
    type: inline
    <<: *rule_classical
    payload:
      # é˜¿é‡Œå·´å·´
      - DOMAIN,httpdns.alicdn.com
      # é˜¿é‡Œäº‘
      - DOMAIN,httpdns-api.aliyuncs.com
      - DOMAIN,httpdns-sc.aliyuncs.com
      - IP-CIDR,203.107.1.0/24
      # æ·˜å®
      - DOMAIN,httpdns.danuoyi.tbcache.com
      # è…¾è®¯äº‘
      - IP-CIDR,119.29.29.98/32
      - IP-CIDR,119.29.29.99/32
      # ç½‘æ˜“
      - DOMAIN,httpdns.music.163.com
      - DOMAIN,httpdns.n.netease.com
      - DOMAIN,httpdns-sdk.n.netease.com
      - DOMAIN,httpdns.yunxindns.com
      - DOMAIN,lofter.httpdns.c.163.com
      - DOMAIN,music.httpdns.c.163.com
      - DOMAIN,httpdns.yunxindns.com
      - IP-CIDR,59.111.239.61/32
      - IP-CIDR,59.111.239.62/32
      - IP-CIDR,115.236.121.51/32
      - IP-CIDR,115.236.121.195/32
      # ç™¾åº¦
      - DOMAIN,httpdns.baidu.com
      - DOMAIN,httpsdns.baidu.com
      - DOMAIN,httpdns.bcelive.com
      - DOMAIN,httpdns.baidubce.com
      - DOMAIN,dns.iqiyi.com
      - DOMAIN,doh.iqiyi.com
      - DOMAIN,dns.qiyipic.iqiyi.com
      - DOMAIN,httpdns.n.shifen.com
      - IP-CIDR,186.76.76.200/32
      # äº¬ä¸œ
      - DOMAIN,dns.jd.com
      - IP-CIDR,101.124.19.122/32
      - IP-CIDR6,2402:db40:5100:1011::5/128
      - IP-CIDR,103.224.222.208/32
      # å°ç±³
      - DOMAIN,httpdns.browser.miui.com
      - DOMAIN,resolver.msg.xiaomi.net
      # å¿«æ‰‹
      - DOMAIN,kuaishou.httpdns.pro
      - DOMAIN,httpdns.kwd.inkuai.com
      - DOMAIN,apidns.kwd.inkuai.com
      - DOMAIN,apidns-js.kwd.inkuai.com
      # å­—èŠ‚è·³åŠ¨
      - DOMAIN,httpdns.volcengineapi.com
      - DOMAIN,dig.bdurl.net
      - DOMAIN,dig.zjurl.cn
      # å¾®ä¿¡
      - DOMAIN,dns.weixin.qq.com
      - DOMAIN,dns.weixin.qq.com.cn
      - DOMAIN,aedns.weixin.qq.com
      - IP-CIDR,39.156.140.30/32
      - IP-CIDR,39.156.140.47/32
      - IP-CIDR,39.156.140.245/32
      - IP-CIDR,42.81.232.18/32
      - IP-CIDR,42.187.182.106/32
      - IP-CIDR,42.187.182.123/32
      - IP-CIDR,42.187.184.154/32
      - IP-CIDR,43.130.30.237/32
      - IP-CIDR,43.130.30.240/32
      - IP-CIDR,43.137.153.151/32
      - IP-CIDR,43.137.159.31/32
      - IP-CIDR,43.152.112.101/32
      - IP-CIDR,43.153.248.120/32
      - IP-CIDR,60.28.172.100/32
      - IP-CIDR,61.151.231.157/32
      - IP-CIDR,101.32.104.104/32
      - IP-CIDR,106.39.206.21/32
      - IP-CIDR,106.39.206.25/32
      - IP-CIDR,106.39.206.70/32
      - IP-CIDR,111.31.201.194/32
      - IP-CIDR,111.31.241.76/32
      - IP-CIDR,111.31.241.140/32
      - IP-CIDR,111.206.147.156/32
      - IP-CIDR,111.206.147.210/32
      - IP-CIDR,111.206.148.27/32
      - IP-CIDR,116.128.177.249/32
      - IP-CIDR,116.130.224.150/32
      - IP-CIDR,116.130.224.205/32
      - IP-CIDR,117.185.247.73/32
      - IP-CIDR,123.151.48.171/32
      - IP-CIDR,123.151.48.193/32
      - IP-CIDR,123.151.48.208/32
      - IP-CIDR,123.151.54.50/32
      - IP-CIDR,180.153.202.85/32
      - IP-CIDR,183.192.196.31/32
      - IP-CIDR,203.205.129.102/32
      - IP-CIDR,203.205.234.132/32
      - IP-CIDR,220.196.159.73/32
      - IP-CIDR6,240e:928:1400:10::25/128
      - IP-CIDR6,2402:4e00:8030:1::17/128
      - IP-CIDR6,2402:4e00:1900:1700:0:9554:1ad9:c3a/128
      - IP-CIDR6,2408:8711:10:10::20/128
      - IP-CIDR6,2409:8702:4860:10::4d/128
  classical_flexireject:
    type: inline
    <<: *rule_classical
    payload:
      # Adobe æ­£ç‰ˆå¼¹çª—
      - DOMAIN,ic.adobe.io
      - DOMAIN-REGEX,^[a-z\d]{10}\.adobe\.io$
      - DOMAIN-SUFFIX,adobestats.io
      - DOMAIN,cc-api-data.adobe.io
      # å¾®ä¿¡è¾“å…¥æ³•
      - DOMAIN,wetype.weixin.qq.com

rules:
  # åˆ†æµè§„åˆ™å¯ä»¥ç›´æ¥å¼•ç”¨ä»£ç†æˆ–ç­–ç•¥ç»„,ä½†ä¸èƒ½å¼•ç”¨è¿œç¨‹ä»£ç†é›†; å¯¹äºæ¯ä¸€æ¡è¿æ¥,æ€»æ˜¯ä»ä¸Šåˆ°ä¸‹åŒ¹é…è§„åˆ™; éœ€è¦å¤æ‚æ¡ä»¶æ—¶,å¯ä»¥ç”¨é€»è¾‘è¿ç®—ç¬¦å»ç»„åˆå¤šä¸ªè§„åˆ™. å¹¶ä¸”é€»è¾‘è§„åˆ™æ˜¯å¯ä»¥ç›¸äº’åµŒå¥—çš„
  - DST-PORT,53,dns-hijack # åŠ«æŒ DNS åˆ° Clash å†…éƒ¨ DNS æ¨¡å—
  - OR,((RULE-SET,site_private),(RULE-SET,ip_private,no-resolve)),Local # å±€åŸŸç½‘..
  - OR,((RULE-SET,site_category-httpdns-cn),(RULE-SET,classical_httpdns)),Httpdns # æ‹¦æˆª HTTPDNS æœåŠ¡,ä»¥ç¡®ä¿è¿™äº›è¯·æ±‚èƒ½å¤Ÿåœ¨ Clash çš„ DNS æ¡†æ¶ä¸‹å·¥ä½œ
  - AND,((NETWORK,udp),(DOMAIN-REGEX,(?:stun|turn))),WebRTC # æ˜¯å¦ç¦ç”¨ stun/turn åè®®çš„ UDP æ•°æ®,ç¦ç”¨åå¯ä»¥æœ‰æ•ˆè§£å†³ WebRTC çš„ IP æ³„éœ²
  - RULE-SET,classical_flexireject,REJECT-DROP # è‡ªå®šä¹‰æ‹¦æˆª
  - RULE-SET,site_ads,Advert # å¹¿å‘Š
  # HTTP3/QUIC åè®®åŸºäº UDP,åœ¨æŸäº›ä»£ç†åè®®ä¸­ UDP è½¬å‘æ•ˆç‡è¾ƒä½. å¯ä»¥é€šè¿‡é€»è¾‘è§„åˆ™æ¥ç¦ç”¨ QUIC åè®®
  # - 'AND,((NETWORK,udp),(NOT,((OR,(RULE-SET,site_cn),(RULE-SET,ip_cn))))),QUIC' # é™¤ CN ä»¥å¤–çš„ QUIC
  # - RULE-SET,classical_flexiproxy,??? # è‡ªå®šä¹‰ä»£ç†
  - AND,((DST-PORT,5228-5230),(RULE-SET,site_googlefcm)),Message # Google FCM,ç›´è¿ç¡®ä¿ DNS æ— æ±¡æŸ“/åŠ«æŒ
  - OR,((DOMAIN-REGEX,^.*\.(mcdn|pcdn)\.bilivideo\.(com|cn)$|^cn-.*\.bilivideo\.(com|cn)$),(DOMAIN-REGEX,^.*\.v1d\.szbdyd\.com$)),BiliCDN # å“”å“©å“”å“© P/MCDN
  - RULE-SET,site_wechat,WeChat # å¾®ä¿¡ è‡ªå®šä¹‰
  - OR,((RULE-SET,site_telegram),(RULE-SET,ip_telegram,no-resolve)),Telegram
  - RULE-SET,site_youtube,YouTube
  # - PROCESS-NAME-REGEX,(?i)(Tsukimi|emby),Emby # ä¸å»ºè®®ä½¿ç”¨è¿›ç¨‹è§„åˆ™
  - RULE-SET,site_onedrive,OneDrive
  - RULE-SET,site_category-games@cn,GameCN # æ¸¸æˆéƒ¨åˆ†å¯ç›´è¿åŸŸå
  - RULE-SET,site_gfw,Proxy
  - RULE-SET,site_geolocation-cn,Local # å›½å†…å¸¸è§åŸŸå,CN å‚æ‚äº†å®ƒ
  - RULE-SET,site_geolocation-!cn,NoChina # å›½å¤–å¸¸è§åŸŸå,CN å‚æ‚äº†å®ƒ
  - RULE-SET,site_cn,Local # CN åŸŸå
  - RULE-SET,ip_cn,Local # CN IP
  - MATCH,Proxy # æ— éœ€æ¡ä»¶,åŒ¹é…æ‰€æœ‰è¯·æ±‚
