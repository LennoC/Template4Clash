# ç«¯å£ä¸º 0 æ—¶ä¸å¯ç”¨è¯¥ä»£ç†ç«¯å£
# tproxy-port: 1234 # tproxy é€æ˜ä»£ç†ç«¯å£,å¯ä»£ç† TCP ä¸ UDP æµé‡. ä»…é™ linux(Android) é€‚ç”¨
mixed-port: 2234 # æ··åˆç«¯å£ åŒæ—¶æ”¯æŒ HTTP(S) å’Œ SOCKS5 åè®®
ipv6: true # å†…æ ¸æ¥å— IPv6 æµé‡
allow-lan: true # å…è®¸å…¶ä»–è®¾å¤‡é€šè¿‡ Clash çš„ä»£ç†ç«¯å£è®¿é—®äº’è”ç½‘
lan-allowed-ips: [127.0.0.1/32]
skip-auth-prefixes: [127.0.0.1/32]
bind-address: '*' # ç»‘å®šåœ°å€,ä»…å…è®¸å…¶ä»–è®¾å¤‡é€šè¿‡è¿™ä¸ªåœ°å€è®¿é—®
unified-delay: false # ç»Ÿä¸€å»¶è¿Ÿ,ä¼šè®¡ç®— RTT,ä»¥æ¶ˆé™¤è¿æ¥æ¡æ‰‹ç­‰å¸¦æ¥çš„ä¸åŒç±»å‹èŠ‚ç‚¹çš„å»¶è¿Ÿå·®å¼‚
tcp-concurrent: true # å¹¶å‘å‘æ‰€æœ‰ IP å‘èµ· TCP è¿æ¥,é€‰æ‹©æœ€å¿«æ¡æ‰‹æˆåŠŸçš„ç»“æœ

log-level: silent # æ—¥å¿—ç­‰çº§ debug/info/warning/error/silent
mode: rule # è¿è¡Œæ¨¡å¼ rule/global/direct,æš‚ä¸æ”¯æŒ script
# find-process-mode: off # è¿›ç¨‹åŒ¹é…
global-client-fingerprint: chrome # å…¨å±€ TLS æŒ‡çº¹,ä¼˜å…ˆä½äº proxy å†…çš„ client-fingerprint
# global-ua: "clash.meta/"  # å¤–éƒ¨èµ„æºä¸‹è½½æ—¶ä½¿ç”¨çš„çš„ UA,é»˜è®¤ä¸º clash.meta
keep-alive-interval: 30 # å‘é€ Keep-Alive æ¢æµ‹åŒ…çš„é—´éš”æ—¶é—´ å•ä½ s
keep-alive-idle: 60 # è¿æ¥ç©ºé—²å¤šä¹…åå¼€å§‹å‘é€ Keep-Alive æ¢æµ‹åŒ…
# experimental:
#   fingerprints: ['qq']

profile:
  store-selected: true # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©
  store-fake-ip: true # å‚¨å­˜ fakeip æ˜ å°„è¡¨ï¼ŒåŸŸåå†æ¬¡å‘ç”Ÿè¿æ¥æ—¶ï¼Œä½¿ç”¨åŸæœ‰æ˜ å°„åœ°å€

external-controller: 127.0.0.1:9494 # API ç›‘å¬åœ°å€
external-controller-cors: # API CORS æ ‡å¤´é…ç½®
  allow-origins: # å…è®¸å“ªäº›å‰ç«¯é¡µé¢çš„åŸŸåè®¿é—® API
    - 127.0.0.1
    - https://board.zash.run.place
  allow-private-network: false
external-ui: ./ui # WebUI çš„ä¿å­˜è·¯å¾„
external-ui-url: 'https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip' # WebUI ä¸‹è½½åœ°å€
# secret: 'cat' # API çš„è®¿é—®å¯†é’¥

hosts:
  # æ”¯æŒå•åŸŸåå¤š IP,æ ¼å¼ä¸ºæ•°ç»„; æ”¯æŒåŸŸåé€šé…ç¬¦,ä¸ä½¿ç”¨é€šé…ç¬¦çš„åŸŸåä¼˜å…ˆçº§é«˜äºä½¿ç”¨é€šé…ç¬¦çš„åŸŸå
  # 'doh.pub': ['1.12.12.12','120.53.53.53','2402:4e00::']
  'trpc.o3.*': 127.0.0.1 # ç¯å¢ƒæ£€æµ‹åŒ…(trpc.o3.*)æ‹¦æˆª
  'iosapps.itunes.apple.com': iosapps.itunes.apple.com.m.alikunlun.net # æ”¹å–„ App Store ä¸‹è½½é€Ÿåº¦
  'services.googleapis.cn': services.googleapis.com # Google é‡å®šå‘
  'www.google.cn': www.google.com
  'www.g.cn': www.google.com
  'maps.google.cn': maps.google.com
  'ditu.google.cn': maps.google.com

dns:
  # ä½¿ç”¨ DoHã€DoTã€DoQ åè®®æ¯”ä¼ ç»ŸåŸºäº UDP çš„æŸ¥è¯¢æ›´æ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œä¸”å»¶è¿Ÿé€šå¸¸æ›´é«˜
  enable: true # å¦‚ä¸º false,åˆ™ä½¿ç”¨ç³»ç»Ÿ DNS è§£æ
  # listen: 0.0.0.0:53
  ipv6: true # false å°†è¿”å› AAAA çš„ç©ºç»“æœ
  respect-rules: true # dns è¿æ¥éµå®ˆè·¯ç”±è§„åˆ™,éœ€é…ç½® proxy-server-nameserver
  enhanced-mode: fake-ip # DNS å¤„ç†æ¨¡å¼ redir-host/fake-ip,Meta å›æ»šäº† Redir Host éƒ¨åˆ†ä»£ç ,ä»ç„¶ä¿ç•™ Clash v1.70 ä»¥å‰çš„ Redir Host æ¨¡å¼çš„åŸŸåä¼ é€’è¡Œä¸º
  fake-ip-range: 28.0.0.1/8
  fake-ip-filter: ['rule-set:site_private,site_fake-ip'] # æ ¹æ® fake-ip æ¨¡å¼è¿”å›å‡ IP,é»˜è®¤ blacklist æ¨¡å¼ (å³åŒ¹é…çš„ä¸è¿”å›,å…¶ä½™è¿”å›)
  # cache-algorithm: arc # ç¼“å­˜ç®—æ³•,é»˜è®¤ lru
  default-nameserver: [223.5.5.5, 119.29.29.29] # ç”¨äºè§£æå…¶å®ƒ DNS ä¸ºåŸŸåç±»å‹çš„ DNS,å¿…é¡»ä¸º IPç±»å‹,å¯ä¸ºåŠ å¯† DNS
  proxy-server-nameserver: &direct [https://dns.alidns.com/dns-query, https://doh.pub/dns-query] # ç”¨äºèŠ‚ç‚¹çš„åŸŸåè§£æ,å…¶ä»– DNS å¦‚éœ€è¿‡ä»£ç†æŸ¥è¯¢æ—¶åˆ™é…ç½®è¯¥é¡¹ä»¥é˜²å‡ºç°é¸¡è›‹é—®é¢˜
  nameserver: &proxy [https://1.0.0.1/dns-query, https://8.8.4.4/dns-query] # é»˜è®¤åŸŸåè§£æ,å¦‚ä¸é…ç½® fallback/proxy-server-nameserver,åˆ™éƒ½ç”± nameserver è§£æ
  nameserver-policy: { 'rule-set:site_private,site_cn': *direct }
  direct-nameserver: *direct # é…ç½®åç›´è¿å‡ºç«™ä¼šä½¿ç”¨å®ƒé‡æ–°è§£æ
  direct-nameserver-follow-policy: true # å¦‚æœéµå¾ª nameserver-policy åˆ™ np çš„ç›´è¿ä¸ä¼šè¢« dn é‡æ–°è§£æ,æ­¤æ—¶ dn ç”¨äºå…¶ä½™çš„ç›´è¿æœ€ç»ˆè§£æ

tun:
  enable: true
  stack: mixed # tun æ¨¡å¼å †æ ˆ system/gvisor/mixed é˜²ç«å¢™æœªæ”¾è¡Œå†…æ ¸,åˆ™æ— æ³•ä½¿ç”¨ system å’Œ mixed åè®®æ ˆ
  device: Cat # æŒ‡å®š tun ç½‘å¡åç§°,MacOS è®¾å¤‡åªèƒ½ä½¿ç”¨ utun å¼€å¤´çš„ç½‘å¡å
  strict-route: false # ä¸¥æ ¼è·¯ç”± æ‰€æœ‰è¿æ¥è·¯ç”±åˆ° tun æ¥é˜²æ­¢æ³„æ¼,ä½†è®¾å¤‡å°†æ— æ³•è¢«å…¶ä»–è®¾å¤‡è®¿é—®
  auto-route: true # è‡ªåŠ¨è®¾ç½®å…¨å±€è·¯ç”±,å¯ä»¥è‡ªåŠ¨å°†å…¨å±€æµé‡è·¯ç”±è¿›å…¥ tun ç½‘å¡
  # auto-redirect: true # ä»…æ”¯æŒ Linux,è‡ªåŠ¨é…ç½® iptables/nftables ä»¥é‡å®šå‘ TCP è¿æ¥,éœ€è¦ auto-route å·²å¯ç”¨
  auto-detect-interface: true # è‡ªåŠ¨é€‰æ‹©æµé‡å‡ºå£æ¥å£,å¤šå‡ºå£ç½‘å¡åŒæ—¶è¿æ¥çš„è®¾å¤‡å»ºè®®æ‰‹åŠ¨æŒ‡å®šå‡ºå£ç½‘å¡
  mtu: 9000 # æœ€å¤§ä¼ è¾“å•å…ƒ,ä¼šå½±å“æé™çŠ¶æ€ä¸‹çš„é€Ÿç‡
  # dns-hijack: [ 'any:53','tcp://any:53' ] # åœ¨ MacOS/Windows æ— æ³•è‡ªåŠ¨åŠ«æŒå‘å¾€å±€åŸŸç½‘çš„ dns è¯·æ±‚,åœ¨ Android å¦‚å¼€å¯ ç§äººdns åˆ™æ— æ³•è‡ªåŠ¨åŠ«æŒ dns è¯·æ±‚

listeners:
  # ä½¿ç”¨æµé‡å…¥ç«™,å¯ä»¥ä½œä¸ºæœåŠ¡ç«¯
  - { name: in_mixed, type: mixed, port: 8484, udp: true, listen: 0.0.0.0 } # ç”¨äºç›‘å¬å±€åŸŸç½‘æµé‡çš„ HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆå…¥ç«™,é€‚ç”¨äºæ— åŠ å¯†ä¼ è¾“

proxies:
  # å‡ºç«™é…ç½®  dns/direct ç­‰é»˜è®¤å¼€å¯ udp
  - { name: dns-hijack, type: dns } # dns å‡ºç«™ä¼šå°†è¯·æ±‚åŠ«æŒåˆ°å†…éƒ¨ dns æ¨¡å—,æ‰€æœ‰è¯·æ±‚å‡åœ¨å†…éƒ¨å¤„ç†
  - { name: ä»¥å¤ªç½‘, type: direct, interface-name: 'ä»¥å¤ªç½‘' } # æœ‰çº¿æ¥å£
  - { name: WLAN, type: direct, interface-name: 'WLAN' } # Wi-Fiæ¥å£
  - { name: wlan0, type: direct, interface-name: 'wlan0' }
  - { name: wlan1, type: direct, interface-name: 'wlan1' }
  - { name: rmnet_data0, type: direct, interface-name: 'rmnet_data0' } # Qualcomm æ•°æ®
  - { name: rmnet_data1, type: direct, interface-name: 'rmnet_data1' }
  # - { name: ccmni0, type: direct, interface-name: 'ccmni0' } # MTK æ•°æ®
  # - { name: ccmni1, type: direct, interface-name: 'ccmni1' }
  # - { name: ap0, type: direct, interface-name: 'ap0' } # çƒ­ç‚¹
  # æŸ¥çœ‹æ¥å£å‘½ä»¤: netsh interface show interface  Tip: æ‰‹æœºéœ€è¦ root ä»¥ç»‘å®šæ¥å£

proxy-providers-anchor:
  # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹,åˆ™ä¸ä¼šå»åˆå¹¶; é”šç‚¹åå°½é‡ä¸è¦å«ç‰¹æ®Šå­—ç¬¦
  - &inline-base
    proxy: Update # ç”¨äºæ›´æ–°çš„ç­–ç•¥æˆ–å‡ºç«™
    interval: 43200 # æ›´æ–° provider çš„é—´éš”,å•ä½ s  Tip: è®¾ç½®çš„è¿‡äºå°å¯èƒ½è¢«æœºåœº ban
    # filter: '(?:ğŸ‡­ğŸ‡°|æ¸¯|(?i:\b(?:hk|hkg|hong|hongkong)\b))`(?:ğŸ‡¹ğŸ‡¼|å°|é«˜é›„|(?i:\b(?:tw|twn|tai|taiwan)\b))`(?:ğŸ‡°ğŸ‡·|éŸ©å›½|å—éŸ©|é¦–å°”|é‡œå±±|(?i:\b(?:kr|kor|korea|South\s*Korea)\b))`(?:ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(?i:\b(?:jp|jpn|japan)\b))`(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(?i:\b(?:sg|sgp|singapore)\b))`(?:ğŸ‡ºğŸ‡¸|ç¾|å‡¤å‡°åŸ|ç¡…è°·|æ´›æ‰çŸ¶|è¥¿é›…å›¾|èŠåŠ å“¥|(?i:\b(?:us|usa|united\s*states)\b))'
    # exclude-filter: '(?:æµé‡|æœŸ|çŸ¥|å‘Š|å…¥|ç¾¤|é‚€|è¿”|å¾ªç¯|å®˜|å®¢|ç«™|å€|è·|è®¢|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å¤‡ç”¨|å·²|è”ç³»|é‚®|æœåŠ¡|å·¥å•|è´©å–|å¯¼èˆª|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|ä½œè€…|(?i:\b(?:use|used|tg|total|expire|email|panel|channel|website|author|update)\b)|\b\d{4}-\d{2}-\d{2}\b|\d+G)' # å¼•å…¥ç­›é€‰/æ’é™¤,ä½¿ç”¨ç­›é€‰å¯èƒ½ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ CPUå ç”¨/è½¬å‘å»¶è¿Ÿ,å°¤å…¶æ˜¯ä½¿ç”¨è¾ƒä¸ºå¤æ‚æ­£åˆ™çš„æƒ…å†µä¸‹
    exclude-type: 'direct' # æ’é™¤åŒ¹é… type çš„èŠ‚ç‚¹,ç”¨ | åˆ†éš”
    health-check: { enable: true, url: 'https://connectivitycheck.android.com/generate_204', interval: 90, timeout: 3500, expected-status: 204 } # å»¶è¿Ÿæ£€æµ‹
    header: { User-Agent: ['mihomo/9.99.9 clash.meta/9.99.9 ClashMeta/9.99.9 FlClash/9.99.9 clash-verge/9.99.9'] } # è‡ªå®šä¹‰ HTTP è¯·æ±‚å¤´
  - &override { udp: true } # è¦†å†™èŠ‚ç‚¹å†…å®¹
  # - &override-proxy-name # å¯¹èŠ‚ç‚¹åç§°å†…å®¹è¿›è¡Œæ›¿æ¢
  #   proxy-name:
  #     - pattern: '\s*[\x{1F1E6}-\x{1F1FF}]{2}\s*'
  #       target: ''
  #     - pattern: '\s*\|\s*'
  #       target: '-'

proxy-providers:
  # åˆæ³•çš„è¿œç¨‹ä»£ç†é›†é‡Œå¿…é¡»åŒ…å« proxies å­—æ®µ,è¿œç¨‹ä»£ç†é›†ä¸ºç©ºæ—¶ä¼šä»¥ DIRECT æ›¿ä»£
  Provider_1:
    type: http # å¿…é¡»,provider ç±»å‹ http/file
    path: ./proxy_providers/Provider_1.yaml # provider çš„ä¿å­˜è·¯å¾„
    url: 'http://127.0.0.1:38324/download/1' # å¼•å·å†…æ›´æ”¹æœºåœºé“¾æ¥
    <<: *inline-base
    override: { <<: *override, additional-prefix: 'A-' }
  Provider_2:
    type: http
    path: ./proxy_providers/Provider_2.yaml
    url: 'http://127.0.0.1:38324/download/2' # å¼•å·å†…æ›´æ”¹æœºåœºé“¾æ¥
    <<: *inline-base
    override: { <<: *override, additional-prefix: 'B-' }
  Provider_3:
    type: http
    path: ./proxy_providers/Provider_3.yaml
    url: 'http://127.0.0.1:38324/download/3' # å¼•å·å†…æ›´æ”¹æœºåœºé“¾æ¥
    <<: *inline-base
    override: { <<: *override, additional-prefix: 'C-' }
  Provider_4:
    type: http
    path: ./proxy_providers/Provider_4.yaml
    url: 'http://127.0.0.1:38324/download/4' # å¼•å·å†…æ›´æ”¹æœºåœºé“¾æ¥
    <<: *inline-base
    override: { <<: *override, additional-prefix: 'D-' }
  Provider_Baidu:
    type: inline
    health-check: { enable: true, url: 'https://connectivitycheck.platform.hicloud.com/generate_204', interval: 0, timeout: 3500, expected-status: 204 }
    payload:
      - { name: Resolution, type: http, server: cloudnproxy.baidu.com, port: 443, headers: &direct_baidu { Host: ascdn.baidu.com, User-Agent: baiduboxapp, Connection: Keep-Aliv, X-T5-Auth: '1951164069' } }
      - { name: åŒ—äº¬åŒ—äº¬-CT 1, type: http, server: 220.181.7.1, port: 443, headers: *direct_baidu }
      - { name: åŒ—äº¬åŒ—äº¬-CT 2, type: http, server: 220.181.33.174, port: 443, headers: *direct_baidu }
      - { name: åŒ—äº¬åŒ—äº¬-CT 3, type: http, server: 220.181.111.189, port: 443, headers: *direct_baidu }
      - { name: å¹¿ä¸œä¸œè-CM, type: http, server: 183.240.98.84, port: 443, headers: *direct_baidu }
      - { name: å¹¿ä¸œå¹¿å·-CT, type: http, server: 14.215.182.75, port: 443, headers: *direct_baidu }
      - { name: å¹¿ä¸œå¹¿å·-CU 1, type: http, server: 163.177.17.6, port: 443, headers: *direct_baidu }
      - { name: å¹¿ä¸œå¹¿å·-CU 2, type: http, server: 163.177.17.189, port: 443, headers: *direct_baidu }
      - { name: æ±Ÿè‹å—äº¬-CM, type: http, server: 36.155.169.188, port: 443, headers: *direct_baidu }
      - { name: æ±Ÿè‹å—äº¬-CT 1, type: http, server: 180.101.50.208, port: 443, headers: *direct_baidu }
      - { name: æ±Ÿè‹å—äº¬-CT 2, type: http, server: 180.101.50.249, port: 443, headers: *direct_baidu }
      - { name: æ±Ÿè‹å—äº¬-CU, type: http, server: 153.3.237.117, port: 443, headers: *direct_baidu }
      - { name: æ±Ÿè‹è‹å·-CU, type: http, server: 157.0.146.158, port: 443, headers: *direct_baidu }
      - { name: æ²³åŒ—ä¿å®š-CU 1, type: http, server: 110.242.70.68, port: 443, headers: *direct_baidu }
      - { name: æ²³åŒ—ä¿å®š-CU 2, type: http, server: 110.242.70.69, port: 443, headers: *direct_baidu }
    override: { additional-prefix: 'Baidu-' }
    # ä¸ä¿è¯å¯ç”¨æ€§
    # baidumlip: ping -c 1 cloudnproxy.baidu.com | sed '1{s/[^(]*(//;s/).*//;q}'

proxy-groups-anchor:
  # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹,åˆ™ä¸ä¼šå»åˆå¹¶; é”šç‚¹åå°½é‡ä¸è¦å«ç‰¹æ®Šå­—ç¬¦
  type_anchor:
    - &type_ut { type: url-test, url: 'https://connectivitycheck.android.com/generate_204', interval: 90, timeout: 3500, max-failed-times: 2, expected-status: 204, tolerance: 10 }
    - &type_fb { type: fallback, url: 'https://connectivitycheck.android.com/generate_204', interval: 90, timeout: 3500, max-failed-times: 2, expected-status: 204 }
    - &type_lb-rr { type: load-balance, strategy: round-robin, url: 'https://connectivitycheck.android.com/generate_204', interval: 90, timeout: 3500, max-failed-times: 2, expected-status: 204 }
    # - &type_lb-ch { type: load-balance, strategy: consistent-hashing, url: 'https://connectivitycheck.android.com/generate_204', interval: 90, timeout: 3500, max-failed-times: 2, expected-status: 204 }
    # - &type_lb-ss { type: load-balance, strategy: sticky-sessions, url: 'https://connectivitycheck.android.com/generate_204', interval: 90, timeout: 3500, max-failed-times: 2, expected-status: 204 }
  proxies_anchor:
    - &rule { proxies: [PASS, Proxy, Local, é¦™æ¸¯, å°æ¹¾, éŸ©å›½, æ—¥æœ¬, ç‹®åŸ, ç¾å›½] }
    - &direct { proxies: [Local, Proxy, PASS, é¦™æ¸¯, å°æ¹¾, éŸ©å›½, æ—¥æœ¬, ç‹®åŸ, ç¾å›½] }
    - &proxy { proxies: [Proxy, Local, PASS, é¦™æ¸¯, å°æ¹¾, éŸ©å›½, æ—¥æœ¬, ç‹®åŸ, ç¾å›½] }
    - &out { proxies: [é¦™æ¸¯, å°æ¹¾, éŸ©å›½, æ—¥æœ¬, ç‹®åŸ, ç¾å›½] }
    - &reject { proxies: [REJECT, REJECT-DROP, PASS] }
  filter_anchor:
    # - &exclude_eb 'å›å›½|æ ¡å›­' # å›å›½
    # - &filter_0x '0å€|(?i:x?0x?)' # å€ç‡
    # - &filter_0.1x '0\.2å€|(?i:x?0\.2x?)'
    # - &filter_0.5x '0\.25å€|(?i:x?0\.25x?)'
    # - &filter_0.8x '0\.5å€|(?i:x?0\.5x?)'
    # - &filter_ar '(?:ğŸ‡¦ğŸ‡·|é˜¿æ ¹å»·|å¸ƒå®œè¯ºæ–¯è‰¾åˆ©æ–¯|ç½—è¨é‡Œå¥¥|é—¨å¤šè¨|(?i:\b(?:ar|arg|argentina)\b))'
    # - &filter_de '(?:ğŸ‡©ğŸ‡ª|å¾·|æŸæ—|æ…•å°¼é»‘|(?i:\b(?:de|deu|germany)\b))'
    # - &filter_fr '(?:ğŸ‡«ğŸ‡·|æ³•|å·´é»|é©¬èµ›|(?i:\b(?:fr|fra|france)\b))'
    # - &filter_gb '(?:ğŸ‡¬ğŸ‡§|è‹±|ä¼¦æ•¦|æ›¼å½»æ–¯ç‰¹|(?i:\b(?:uk|gb|gbr|united\s*kingdom|britain)\b))'
    - &filter_hk '(?:ğŸ‡­ğŸ‡°|æ¸¯|(?i:\b(?:hk|hkg|hong|hongkong)\b))'
    # - &filter_hk_1 {filter: '(?=.*#1)(?=.*(?:ğŸ‡­ğŸ‡°|æ¸¯|(?i:hk|hkg|hong|hongkong)\b))'} # åŒ…å« #1 çš„é¦™æ¸¯
    # - &filter_in '(?:ğŸ‡®ğŸ‡³|å°åº¦|æ–°å¾·é‡Œ|å­Ÿä¹°|ç­åŠ ç½—å°”|åŠ å°”å„ç­”|(?i:\b(?:in|ind|india)\b))'
    - &filter_jp '(?:ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(?i:\b(?:jp|jpn|japan)\b))'
    - &filter_kr '(?:ğŸ‡°ğŸ‡·|éŸ©å›½|å—éŸ©|é¦–å°”|é‡œå±±|(?i:\b(?:kr|kor|korea|South\s*Korea)\b))'
    # - &filter_lu '(?:ğŸ‡±ğŸ‡º|å¢æ£®å ¡|(?i:\b(?:lu|lux|luxembourg|bt|pt)\b))' # Torrentä¸“ç”¨
    # - &filter_ru '(?:ğŸ‡·ğŸ‡º|ä¿„ç½—æ–¯|ä¿„è”é‚¦|è«æ–¯ç§‘|åœ£å½¼å¾—å ¡|è¥¿ä¼¯åˆ©äºš|(?i:\b(?:ru|rus|russia)\b))'
    - &filter_sg '(?:ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(?i:\b(?:sg|sgp|singapore)\b))'
    # - &filter_tr '(?:ğŸ‡¹ğŸ‡·|åœŸè€³å…¶|å®‰å¡æ‹‰|ä¼Šæ–¯å¦å¸ƒå°”|ä¼Šå…¹å¯†å°”|(?i:\b(?:tr|tur|turkey)\b))'
    - &filter_tw '(?:ğŸ‡¹ğŸ‡¼|å°|é«˜é›„|(?i:\b(?:tw|twn|tai|taiwan)\b))'
    - &filter_us '(?:ğŸ‡ºğŸ‡¸|ç¾|å‡¤å‡°åŸ|ç¡…è°·|æ´›æ‰çŸ¶|è¥¿é›…å›¾|èŠåŠ å“¥|(?i:\b(?:us|usa|united\s*states)\b))'

proxy-groups:
  # ç­–ç•¥ç»„å¯ä»¥åŒ…å«å¤šä¸ªä»£ç†,æˆ–å¤šä¸ªè¿œç¨‹ä»£ç†é›†; ä¸åŒ…å«ä»»ä½•ä»£ç†çš„ç­–ç•¥ç»„,ä¼šè¢«å½“ä½œä¸º DIRECT ç­–ç•¥å¤„ç†; å¦‚ç­–ç•¥ç»„ä»£ç†æ¥è‡ªè¿œç¨‹ä»£ç†é›†æ—¶,åˆ™ä½¿ç”¨ proxy-providers çš„ health-check
  - { name: Proxy, type: select, proxies: [Fallback, Local, é¦™æ¸¯, å°æ¹¾, éŸ©å›½, æ—¥æœ¬, ç‹®åŸ, ç¾å›½], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png' }
  - { name: Local, type: select, proxies: [DIRECT, ä»¥å¤ªç½‘, WLAN, ä»¥å¤ªç½‘ + WLAN, rmnet_data0, rmnet_data1, wlan0, wlan1, data0 + wlan0, data0 + wlan1, data1 + wlan0, data1 + wlan1, Baidu LR], use: [Provider_Baidu], url: 'https://connectivitycheck.platform.hicloud.com/generate_204', interval: 0, timeout: 3500, max-failed-times: 2, expected-status: 204, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/China_Map.png' }
  - { name: FlexiRule, type: select, <<: *rule, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Heart.png' }
  - { name: CNLite, type: select, <<: *rule, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png' }
  - { name: Message, type: select, <<: *direct, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png' }
  - { name: WeChat, type: select, <<: *direct, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/WeChat.png' }
  - { name: Telegram, type: select, <<: *proxy, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png' }
  - { name: YouTube, type: select, <<: *proxy, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png' }
  # - { name: Emby, type: select, <<: *rule, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Emby.png' }
  - { name: OneDrive, type: select, <<: *direct, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/OneDrive.png' }
  # - { name: LModel, type: select, url: 'https://api.openai.com/cdn-cgi/trace', <<: [*proxy], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/ChatGPT.png' }
  - { name: GameCN, type: select, <<: *direct, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Game.png' }
  - { name: InMixed, type: select, <<: *rule, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png' }
  - { name: WebRTC, type: select, <<: *reject, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Area.png' }
  # - { name: QUIC, type: select, proxies: [PASS, REJECT-DROP], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png' }
  - { name: Httpdns, type: select, <<: *reject, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hijacking.png' }
  - { name: Advert, type: select, <<: *reject, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Advertising.png' }
  - { name: Update, type: select, proxies: [Local, Proxy], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Stack.png' }
  # - { name: å€ç‡, type: select, proxies: [0x, 0.1x, 0.5x, 0.8x], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Speedtest.png' }
  - { name: é¦™æ¸¯, <<: *type_ut, proxies: [é¦™æ¸¯ A, é¦™æ¸¯ B, é¦™æ¸¯ C, é¦™æ¸¯ D], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png' }
  - { name: é¦™æ¸¯ A, <<: *type_ut, use: [Provider_1], filter: *filter_hk, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png', hidden: true }
  - { name: é¦™æ¸¯ B, <<: *type_ut, use: [Provider_2], filter: *filter_hk, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png', hidden: true }
  - { name: é¦™æ¸¯ C, <<: *type_ut, use: [Provider_3], filter: *filter_hk, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png', hidden: true }
  - { name: é¦™æ¸¯ D, <<: *type_ut, use: [Provider_4], filter: *filter_hk, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png', hidden: true }
  - { name: å°æ¹¾, <<: *type_ut, proxies: [å°æ¹¾ A, å°æ¹¾ B, å°æ¹¾ C, å°æ¹¾ D], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png' }
  - { name: å°æ¹¾ A, <<: *type_ut, use: [Provider_1], filter: *filter_tw, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png', hidden: true }
  - { name: å°æ¹¾ B, <<: *type_ut, use: [Provider_2], filter: *filter_tw, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png', hidden: true }
  - { name: å°æ¹¾ C, <<: *type_ut, use: [Provider_3], filter: *filter_tw, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png', hidden: true }
  - { name: å°æ¹¾ D, <<: *type_ut, use: [Provider_4], filter: *filter_tw, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png', hidden: true }
  - { name: éŸ©å›½, <<: *type_ut, proxies: [éŸ©å›½ A, éŸ©å›½ B, éŸ©å›½ C, éŸ©å›½ D], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png' }
  - { name: éŸ©å›½ A, <<: *type_ut, use: [Provider_1], filter: *filter_kr, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png', hidden: true }
  - { name: éŸ©å›½ B, <<: *type_ut, use: [Provider_2], filter: *filter_kr, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png', hidden: true }
  - { name: éŸ©å›½ C, <<: *type_ut, use: [Provider_3], filter: *filter_kr, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png', hidden: true }
  - { name: éŸ©å›½ D, <<: *type_ut, use: [Provider_4], filter: *filter_kr, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png', hidden: true }
  - { name: æ—¥æœ¬, <<: *type_ut, proxies: [æ—¥æœ¬ A, æ—¥æœ¬ B, æ—¥æœ¬ C, æ—¥æœ¬ D], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png' }
  - { name: æ—¥æœ¬ A, <<: *type_ut, use: [Provider_1], filter: *filter_jp, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png', hidden: true }
  - { name: æ—¥æœ¬ B, <<: *type_ut, use: [Provider_2], filter: *filter_jp, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png', hidden: true }
  - { name: æ—¥æœ¬ C, <<: *type_ut, use: [Provider_3], filter: *filter_jp, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png', hidden: true }
  - { name: æ—¥æœ¬ D, <<: *type_ut, use: [Provider_4], filter: *filter_jp, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png', hidden: true }
  - { name: ç‹®åŸ, <<: *type_ut, proxies: [ç‹®åŸ A, ç‹®åŸ B, ç‹®åŸ C, ç‹®åŸ D], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png' }
  - { name: ç‹®åŸ A, <<: *type_ut, use: [Provider_1], filter: *filter_sg, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png', hidden: true }
  - { name: ç‹®åŸ B, <<: *type_ut, use: [Provider_2], filter: *filter_sg, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png', hidden: true }
  - { name: ç‹®åŸ C, <<: *type_ut, use: [Provider_3], filter: *filter_sg, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png', hidden: true }
  - { name: ç‹®åŸ D, <<: *type_ut, use: [Provider_4], filter: *filter_sg, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png', hidden: true }
  - { name: ç¾å›½, <<: *type_ut, proxies: [ç¾å›½ A, ç¾å›½ B, ç¾å›½ C, ç¾å›½ D], icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png' }
  - { name: ç¾å›½ A, <<: *type_ut, use: [Provider_1], filter: *filter_us, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png', hidden: true }
  - { name: ç¾å›½ B, <<: *type_ut, use: [Provider_2], filter: *filter_us, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png', hidden: true }
  - { name: ç¾å›½ C, <<: *type_ut, use: [Provider_3], filter: *filter_us, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png', hidden: true }
  - { name: ç¾å›½ D, <<: *type_ut, use: [Provider_4], filter: *filter_us, icon: 'https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png', hidden: true }
  - { name: Fallback, <<: [*type_fb, *out], hidden: true }
  - { name: ä»¥å¤ªç½‘ + WLAN, <<: *type_lb-rr, proxies: [ä»¥å¤ªç½‘, WLAN], hidden: true }
  - { name: data0 + wlan0, <<: *type_lb-rr, proxies: [rmnet_data0, wlan0], hidden: true }
  - { name: data0 + wlan1, <<: *type_lb-rr, proxies: [rmnet_data0, wlan1], hidden: true }
  - { name: data1 + wlan0, <<: *type_lb-rr, proxies: [rmnet_data1, wlan0], hidden: true }
  - { name: data1 + wlan1, <<: *type_lb-rr, proxies: [rmnet_data1, wlan1], hidden: true }
  - { name: Baidu LR, url: 'https://connectivitycheck.platform.hicloud.com/generate_204', interval: 0, timeout: 3500, max-failed-times: 2, expected-status: 204, <<: *type_lb-rr, use: [Provider_Baidu], exclude-filter: Resolution, hidden: true }

rule-providers-anchor:
  # é”šç‚¹ å¦‚åˆå¹¶æ—¶æœ‰é‡å¤çš„é¡¹,åˆ™ä¸ä¼šå»åˆå¹¶; é”šç‚¹åå°½é‡ä¸è¦å«ç‰¹æ®Šå­—ç¬¦
  # - &rule_asn { type: http,behavior: ipcidr,format: mrs,proxy: Update,interval: 86400 }
  - &rule { type: http, behavior: classical, format: text, proxy: Update, interval: 86400 }
  - &site_rule { type: http, behavior: domain, format: mrs, proxy: Update, interval: 86400 }
  - &ip_rule { type: http, behavior: ipcidr, format: mrs, proxy: Update, interval: 86400 }

rule-providers:
  # å¯¹äºå»å¹¿å‘Š,æŒ‰ IP åœ°ç†ä¿¡æ¯åˆ†æµç­‰éœ€è¦å¤§é‡è§„åˆ™çš„åœºæ™¯,å»ºè®®ä½¿ç”¨ domain æˆ– ipcidr ç±»å‹çš„è§„åˆ™é›†åˆ,è¿™èƒ½æœ‰æ•ˆé™ä½å†…å­˜å ç”¨å¹¶æé«˜åŒ¹é…é€Ÿåº¦
  # ä¸å»ºè®®ä½¿ç”¨å¤§é‡ classical ç±»å‹çš„è§„åˆ™é›†åˆã€‚æ­¤ç±»è§„åˆ™åªèƒ½è¿›è¡Œé¡ºåºåŒ¹é…ï¼Œä¼šæ˜¾è‘—å¢åŠ åŒ¹é…è€—æ—¶å’Œå†…å­˜å ç”¨
  site_private: { <<: *site_rule, path: ./rule_providers/domain/private, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/private.mrs' }
  # site_ad: { <<: *site_rule, path: ./rule_providers/domain/category-ads-all, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-ads-all.mrs' }
  site_ad: { <<: *site_rule, path: ./rule_providers/domain/adrules, url: 'https://testingcf.jsdelivr.net/gh/Cats-Team/AdRules@main/adrules-mihomo.mrs' }
  # site_ad: { <<: *site_rule, path: ./rule_providers/domain/anti-ad, url: 'https://testingcf.jsdelivr.net/gh/privacy-protection-tools/anti-ad.github.io@master/docs/mihomo.mrs' }
  # site_ad: { <<: *site_rule, path: ./rule_providers/domain/awavenue-ads-rule, url: 'https://testingcf.jsdelivr.net/gh/TG-Twilight/AWAvenue-Ads-Rule@main/Filters/AWAvenue-Ads-Rule-Clash.mrs' }
  # site_ad: { <<: *site_rule, path: ./rule_providers/domain/dns-blocklists, url: 'https://testingcf.jsdelivr.net/gh/yiteei/Share@Proxy/rules/site/dns-blocklists.mrs' }
  site_httpdns: { <<: *site_rule, path: ./rule_providers/domain/httpdns, url: 'https://testingcf.jsdelivr.net/gh/yiteei/Share@Proxy/rules/site/httpdns.mrs' }
  site_webrtc:
    type: inline
    <<: *site_rule
    payload:
      - '+.stun.*'
      - '+.stun*.*'
      - '+.stun.*.*'
      - '+.stun*.*.*'
      - '+.stun.*.*.*'
      - '+.stun*.*.*.*'
      - '+.turn.*'
      - '+.turn*.*'
      - '+.turn.*.*'
      - '+.turn*.*.*'
      - '+.turn.*.*.*'
      - '+.turn*.*.*.*'
      - 'fwa.lifesizecloud.com'
      - 'hw-v2-web-player-tracker.biliapi.net'
      - 'iphone-stun.strato-iphone.de'
      - 'ipv4.am.i.mullvad.net'
      - 'ipv6.am.i.mullvad.net'
      - 'meet-jit-si-turnrelay.jitsi.net'
      - 'numb.viagenie'
      - 'relay.webwormhole.io'
      - 's1.taraba.net'
      - 's1.voipstation.jp'
      - 's2.taraba.net'
      - 's2.voipstation.jp'
  site_googlefcm: { <<: *site_rule, path: ./rule_providers/domain/googlefcm, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/googlefcm.mrs' }
  site_telegram: { <<: *site_rule, path: ./rule_providers/domain/telegram, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/telegram.mrs' }
  site_wechat:
    type: inline
    <<: *site_rule
    payload:
      - 'short.weixin.qq.com'
      - '+short.weixin.qq.com'
      - 'long.weixin.qq.com'
      - '+long.weixin.qq.com'
  site_youtube: { <<: *site_rule, path: ./rule_providers/domain/youtube, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/youtube.mrs' }
  site_win-update: { <<: *site_rule, path: ./rule_providers/domain/win-update, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/win-update.mrs' }
  site_onedrive: { <<: *site_rule, path: ./rule_providers/domain/onedrive, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/onedrive.mrs' }
  site_category-games@cn: { <<: *site_rule, path: ./rule_providers/domain/category-games@cn, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geosite/category-games@cn.mrs' }
  site_cn-lite: { <<: *site_rule, path: ./rule_providers/domain/cn-lite, url: 'https://testingcf.jsdelivr.net/gh/yiteei/Share@Proxy/rules/site/cn-lite.mrs' }
  site_cn: { <<: *site_rule, path: ./rule_providers/domain/cn, url: 'https://testingcf.jsdelivr.net/gh/yiteei/Share@Proxy/rules/site/cn.mrs' }
  site_fake-ip:
    type: inline
    <<: *site_rule
    payload:
      - '+.market.xiaomi.com'
      - '*.bilivideo.com'
      - '+.msftconnecttest.com'
      - '+.ntp.*' # NTP
      - '+.ntp.*.*'
      - '+.ntp*.*.*'
      - '+.ntp.*.*.*'
      - '+.ntp.*.*.*.*'
      - '+.time.*'
      - '+.time.*.*'
      - '+.time*.*.*'
      - '+.*time.*.*'
      - '+.time.*.*.*'
      - '+.stun.*' # WebRTC
      - '+.stun*.*'
      - '+.stun.*.*'
      - '+.stun*.*.*'
      - '+.stun.*.*.*'
      - '+.stun*.*.*.*'
      - '+.turn.*'
      - '+.turn*.*'
      - '+.turn.*.*'
      - '+.turn*.*.*'
      - '+.turn.*.*.*'
      - '+.turn*.*.*.*'
      - 'fwa.lifesizecloud.com'
      - 'hw-v2-web-player-tracker.biliapi.net'
      - 'iphone-stun.strato-iphone.de'
      - 'ipv4.am.i.mullvad.net'
      - 'ipv6.am.i.mullvad.net'
      - 'meet-jit-si-turnrelay.jitsi.net'
      - 'numb.viagenie'
      - 'relay.webwormhole.io'
      - 's1.taraba.net'
      - 's1.voipstation.jp'
      - 's2.taraba.net'
      - 's2.voipstation.jp'

  ip_private: { <<: *ip_rule, path: ./rule_providers/ipcidr/private, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/private.mrs' }
  ip_httpdns: { <<: *ip_rule, path: ./rule_providers/ipcidr/httpdns, url: 'https://testingcf.jsdelivr.net/gh/yiteei/Share@Proxy/rules/ip/httpdns.mrs' }
  ip_webrtc:
    type: inline
    <<: *ip_rule
    payload:
      - '124.64.206.224/32'
      - '23.21.150.121/32'
      - '39.107.142.158/32'
  ip_telegram: { <<: *ip_rule, path: ./rule_providers/ipcidr/telegram, url: 'https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@meta/geo/geoip/telegram.mrs' }
  ip_cn: { <<: *ip_rule, path: ./rule_providers/ipcidr/cn, url: 'https://testingcf.jsdelivr.net/gh/yiteei/Share@Proxy/rules/ip/cn.mrs' }

  flexireject:
    type: inline
    <<: *rule
    payload:
      - DOMAIN,ic.adobe.io # Adobe æ­£ç‰ˆå¼¹çª—
      - DOMAIN-REGEX,^[a-z\d]{10}\.adobe\.io$
      - DOMAIN-SUFFIX,adobestats.io
      - DOMAIN,cc-api-data.adobe.io
      - DOMAIN,wetype.weixin.qq.com # å¾®ä¿¡è¾“å…¥æ³•
      - IP-CIDR,95.161.76.100/31,no-resolve # é˜²æ­¢ Telegram è½¬åœˆ
  flexirule:
    type: inline
    <<: *rule
    payload:
      - DOMAIN-SUFFIX,deepseek.com # DeepSeek

rules:
  # åˆ†æµè§„åˆ™å¯ä»¥ç›´æ¥å¼•ç”¨ä»£ç†æˆ–ç­–ç•¥ç»„,ä½†ä¸èƒ½å¼•ç”¨è¿œç¨‹ä»£ç†é›†; å¯¹äºæ¯ä¸€æ¡è¿æ¥,æ€»æ˜¯ä»ä¸Šåˆ°ä¸‹åŒ¹é…è§„åˆ™; éœ€è¦å¤æ‚æ¡ä»¶æ—¶,å¯ä»¥ç”¨é€»è¾‘è¿ç®—ç¬¦å»ç»„åˆå¤šä¸ªè§„åˆ™. å¹¶ä¸”é€»è¾‘è§„åˆ™æ˜¯å¯ä»¥ç›¸äº’åµŒå¥—çš„
  - AND,((DST-PORT,53),(NOT,((IN-TYPE,Inner)))),dns-hijack # åŠ«æŒ DNS åˆ° Clash å†…éƒ¨ DNS æ¨¡å—
  - RULE-SET,ip_private,Local,no-resolve # å±€åŸŸç½‘..
  - RULE-SET,site_private,Local
  - AND,((NETWORK,udp),(RULE-SET,site_webrtc)),WebRTC # æ˜¯å¦ç¦ç”¨ stun/turn åè®®çš„ UDP æ•°æ®,ç¦ç”¨åå¯ä»¥æœ‰æ•ˆè§£å†³ WebRTC çš„ IP æ³„éœ²
  - RULE-SET,flexireject,REJECT-DROP # è‡ªå®šä¹‰æ‹¦æˆª
  - RULE-SET,site_ad,Advert
  # - AND,((NETWORK,udp),(NOT,((OR,(RULE-SET,site_cn),(RULE-SET,ip_cn))))),QUIC # é™¤ CN ä»¥å¤–çš„ QUIC ,HTTP3/QUIC åè®®åŸºäº UDP,åœ¨æŸäº›ä»£ç†åè®®ä¸­ UDP è½¬å‘æ•ˆç‡è¾ƒä½. å¯ä»¥é€šè¿‡é€»è¾‘è§„åˆ™æ¥ç¦ç”¨ QUIC åè®®
  - RULE-SET,flexirule,FlexiRule # è‡ªå®šä¹‰ä»£ç†
  - AND,((DST-PORT,5228-5230),(RULE-SET,site_googlefcm)),Message # Google FCM,ç›´è¿ç¡®ä¿ DNS æ— æ±¡æŸ“/åŠ«æŒ
  - RULE-SET,site_wechat,WeChat # å¾®ä¿¡ è‡ªå®šä¹‰
  - RULE-SET,site_telegram,Telegram
  - RULE-SET,site_youtube,YouTube
  - RULE-SET,site_onedrive,OneDrive
  - RULE-SET,site_win-update,Update # Windows æ›´æ–°
  - RULE-SET,site_category-games@cn,GameCN
  - IN-NAME,in_mixed,InMixed # æ··åˆå…¥ç«™,æˆ‘ç”¨æ¥æ§åˆ¶ä¸‹è½½ç­‰..
  - RULE-SET,site_cn-lite,CNLite
  - RULE-SET,site_cn,Local

  - RULE-SET,ip_httpdns,Httpdns
  - AND,((NETWORK,udp),(RULE-SET,ip_webrtc)),WebRTC
  - RULE-SET,ip_telegram,Telegram
  - RULE-SET,ip_cn,Local
  - MATCH,Proxy # æ— æ¡ä»¶åŒ¹é…æ‰€æœ‰è¯·æ±‚
